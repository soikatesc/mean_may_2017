
<div ng-init="UC.session()">
	<button ng-click="UC.logout()">Logout</button>
	<h1>Welcome {{UC.current_user.username}} </h1>
</div>

<div ng-controller="TopicController as TC">
	<h1>Add a topic</h1>
	Search Topic: <input type="text" ng-model="TC.x">
	<div ng-init="TC.index()">
		<div>
			<table>
				<tr>
					<th>Category</th>
					<th>Topic</th>
					<th>User Name</th>
					<th>Posts</th>
				</tr>
				<tr ng-repeat="topic in TC.topics | filter:TC.x">
					<!-- {{topic}} -->
					<td>{{topic.category}}</td>
					<td><a href="#!/topic/{{topic._id}}">{{topic.title}}</a></td>
					<td><a href="#!/userProfile/{{topic.user._id}}">{{topic.user.username}}</a></td>
					<td>{{topic.answers.length}}</td>
				</tr>
			</table>
			<hr>
		</div>
		<form ng-submit="TC.createTopic(TC.newTopic)">
				<div class="form-group">
					<label for="topic">Topic</label>
					<input ng-model="TC.newTopic.title" type="topic" class="form-control" id="topic" placeholder="enter your topic">
				</div>

		         <div class="form-group">
		            <label for="body">
		                <span class="label-text">Description:</span> 
		            </label>
		            <textarea ng-model="TC.newTopic.description" class="content form-control" id="content" name="content" rows="3"></textarea>            
		        </div>
		        <div>
		        	<label>Category
		        			<select ng-model="TC.newTopic.category">
		        				<option>Html</option>
		        				<option>Ruby</option>
		        				<option>Python</option>
		        				<option>Javascript</option>
		        			</select>
		        	</label>

		        </div>
		        <input type="submit" class="btn btn-lg btn-primary" value="Post a Topic">
		</form>
	</div>
</div>
